{% extends 'base.html' %}
{% load static %}
{% block title %}Hospital DoctorList Page{% endblock %}
{% block content %}
<style>
body{
  background: #f2f2f2;
  font-family: 'Open Sans', sans-serif;
}

.search {
  width: 50%;
  position: relative;
  display: flex;
}

.searchTerm {
  width: 50%;
  border: 2px solid #black;
  border-right: none;
  padding: 5px;
  height: 40px;
  border-radius: 5px 0 0 5px;
  outline: none;
  color: black;
}

.searchTerm:focus{
  color: black;
}
</style>
<div class="container">
    {% include 'partials/messages.html' %}

    <div class="page-header">
        <center><h2>
            All Doctors
        </h2></center>
    </div>
<br>
    <input type="text" class="searchTerm" id="SearchTextField" placeholder="Search doctors, specialization, etc.">
    <table id="all_doctors">
        <thead>
        <tr>
            <th style="border-bottom: 0px;">
            </th>
        </tr>
        </thead>
<br>
        <tbody style="color: black;">
        {% for doc_lists in doctor_lists %}
        <tr>
            <td>

                <div class="card mb-3" style="max-width: 680px; border-color: black;">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            {% if doc_lists.user.profile_image %}
                            <img src="{{ doc_lists.user.profile_image.url }}" class="card-img" alt="no image found">
                            {% else %}
                            <img src="{% static 'images/defaultimage.png' %}" class="card-img" alt="no display found">
                            {% endif %}
                        </div>
                        <!--    {{ doc_lists.user.gender}}-->
                        <div class="col-md-8">
                            <div class="card-body">
                                <h4 class="card-title"><font color="black">Dr. {{ doc_lists.user.first_name }}
                                  {{doc_lists.user.last_name }}</font></h4>
                                <h5 class="card-text">{% for qualification in doc_lists.qualification.all %}
                                    {{ qualification.degree|title }}
                                    {% endfor %}
                                </h5>
                                <h5 class="card-text">{{ doc_lists.council }}</h5>
                                <h5 class="card-text">{{ doc_lists.specialization }}</h5>
                                <h5 class="card-text">{{ doc_lists.experience }} years experience overall</h5>
                                <!--        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>-->
                            </div>
                            <div class="text-right">
                                <div class="card-footer">
                                    <a href="{% url 'hospital:appointment_slot' doc_lists.id %}" class="btn btn-sm"
                                       style="background-color: #20c997; color: black; border-color: black;">Book Appointment</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% block js %}
<script>
  $(document).ready(function() {
  var all_doc = $('#all_doctors').DataTable({
        "ordering": false,
        "info":     false,
        "lengthChange": false,
        "dom": "tipr"
   });

   $('#SearchTextField').keyup(function(){
      all_doc.search($(this).val()).draw() ;
    });

 });

</script>
{% endblock %}